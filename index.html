<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lava Jato Ônix</title>

<style>

body{
margin:0;
font-family:Arial;
background:#ffffff;
}

header{
background:#d10000;
color:white;
padding:25px;
text-align:center;
font-size:32px;
font-weight:bold;
box-shadow:0 2px 5px rgba(0,0,0,0.2);
}

.container{
padding:20px;
max-width:900px;
margin:auto;
}

.card{
background:white;
padding:20px;
margin-top:20px;
border-radius:10px;
box-shadow:0 0 10px rgba(0,0,0,0.1);
}

button{
background:#d10000;
color:white;
border:none;
padding:12px 20px;
margin:5px;
border-radius:8px;
font-size:16px;
cursor:pointer;
}

button:hover{
background:#a00000;
}

#horarios button{
width:100px;
}

footer{
background:#d10000;
color:white;
text-align:center;
padding:15px;
margin-top:30px;
}

</style>

</head>

<body>

<header>
Lava Jato Ônix
</header>

<div class="container">

<div class="card">

<h2>Agendar Horário</h2>

<input type="date" id="data">

<div id="horarios"></div>

</div>

<div class="card">

<h2>Contato</h2>

<button onclick="whatsapp()">
WhatsApp
</button>

</div>

</div>

<footer>

© Lava Jato Ônix

</footer>

<script>

let agendamentos = [];

document.getElementById("data").addEventListener("change", mostrarHorarios);

function mostrarHorarios(){

let div = document.getElementById("horarios");

div.innerHTML="";

for(let h=8;h<=18;h++){

for(let m=0;m<60;m+=30){

let hora =
h.toString().padStart(2,"0")+":"+
m.toString().padStart(2,"0");

if(!bloqueado(hora)){

let btn = document.createElement("button");

btn.innerText = hora;

btn.onclick = ()=>agendar(hora);

div.appendChild(btn);

}

}

}

}

function bloqueado(hora){

let atual = converter(hora);

for(let ag of agendamentos){

let inicio = converter(ag);

let fim = inicio + 150;

if(atual >= inicio && atual < fim){

return true;

}

}

return false;

}

function converter(hora){

let p = hora.split(":");

return parseInt(p[0])*60 + parseInt(p[1]);

}

function agendar(hora){

agendamentos.push(hora);

alert("Agendado às "+hora);

mostrarHorarios();

}

function whatsapp(){

window.open("https://wa.me/5531999999999?text=Olá, quero agendar um horário");

}

</script>

</body>
</html>
