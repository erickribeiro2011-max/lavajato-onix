<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lava Jato Ônix</title>

<style>

body{
margin:0;
font-family:Arial;
background:#f4f4f4;
}

header{
background:#d10000;
color:white;
padding:20px;
text-align:center;
font-size:30px;
font-weight:bold;
position:relative;
}

.menu{
position:absolute;
right:20px;
top:20px;
cursor:pointer;
font-size:25px;
}

.container{
max-width:900px;
margin:auto;
padding:20px;
}

.card{
background:white;
padding:20px;
margin-top:20px;
border-radius:10px;
box-shadow:0 0 10px rgba(0,0,0,0.1);
text-align:center;
}

button{
background:#d10000;
color:white;
border:none;
padding:12px 25px;
margin:10px;
border-radius:8px;
font-size:16px;
cursor:pointer;
}

#agenda{display:none;}

#horarios button{
display:block;
margin:10px auto;
width:200px;
}

input{
padding:10px;
margin:5px;
width:80%;
}

#adminPanel{
display:none;
text-align:left;
}

</style>

</head>

<body>

<header>

Lava Jato Ônix

<div class="menu" onclick="abrirAdmin()">
⋮
</div>

</header>

<div class="container">

<div class="card">

<h2>Agendamento</h2>

<button onclick="abrirAgenda()">
AGENDAR
</button>

<div id="agenda">

<input type="date" id="data">

<div id="horarios"></div>

</div>

</div>


<div class="card" id="adminPanel">

<h2>Painel Administração</h2>

<div id="lista"></div>

</div>

</div>


<script>

let senha="I8i82022@2023";

let agendamentos=
JSON.parse(localStorage.getItem("agenda"))||[];


function abrirAgenda(){

document.getElementById("agenda").style.display="block";

}


document.getElementById("data").addEventListener("change", mostrarHorarios);


function mostrarHorarios(){

let data=
new Date(document.getElementById("data").value);

let dia=data.getDay();

let inicio=(dia==6)?8:12;

let fim=17;

let div=document.getElementById("horarios");

div.innerHTML="";


for(let h=inicio;h<=fim;h++){

for(let m=0;m<60;m+=30){

let hora=
h.toString().padStart(2,"0")+":"+
m.toString().padStart(2,"0");

if(!bloqueado(hora)){

let btn=document.createElement("button");

btn.innerText=hora;

btn.onclick=()=>formAgendar(hora);

div.appendChild(btn);

}

}

}

}


function bloqueado(hora){

let data=
document.getElementById("data").value;

let atual=converter(hora);

for(let ag of agendamentos){

if(ag.data==data){

let inicio=converter(ag.hora);

let fim=inicio+150;

if(atual>=inicio && atual<fim){

return true;

}

}

}

return false;

}


function converter(h){

let p=h.split(":");

return parseInt(p[0])*60+
parseInt(p[1]);

}


function formAgendar(hora){

let nome=prompt("Seu nome:");

if(!nome)return;

let carro=prompt("Nome do carro:");

if(!carro)return;

let data=
document.getElementById("data").value;


agendamentos.push({

nome,
carro,
data,
hora

});


localStorage.setItem("agenda",
JSON.stringify(agendamentos));


alert("Agendado com sucesso");

mostrarHorarios();

}


function abrirAdmin(){

let s=prompt("Senha:");

if(s==senha){

document.getElementById("adminPanel")
.style.display="block";

mostrarAdmin();

}else{

alert("Senha incorreta");

}

}


function mostrarAdmin(){

let div=
document.getElementById("lista");

div.innerHTML="";


for(let ag of agendamentos){

div.innerHTML+=

"Nome: "+ag.nome+"<br>"+
"Carro: "+ag.carro+"<br>"+
"Data: "+ag.data+"<br>"+
"Hora: "+ag.hora+"<br><hr>";

}

}

</script>

</body>
</html>
<header>

<div style="display:flex;align-items:center;gap:10px;">

<img src="https://unavatar.io/instagram/lavajato.onix"
style="width:50px;height:50px;border-radius:50%;border:2px solid #d10000;">

<div style="font-size:22px;font-weight:bold;color:#d10000;">

Lava Jato Ônix

</div>

</div>

<div class="menu" onclick="loginAdmin()">

⋮

</div>

</header>
